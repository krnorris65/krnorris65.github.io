/*! krnorris65.github.io 2017-11-03 */

const blogDatabase=JSON.parse(localStorage.getItem("adminDatabase")).blog,blogItems=blogDatabase.length,blogEl=document.getElementById("blog-posts"),updateDOM=e=>{e.forEach(function(e){let n="";n+=`\n                \x3c!-- Beginning of Blog Post ${e.title} --\x3e\n                <article id="blog-${e.id}" class="blog">\n                <header>\n                <h2 class="weekNum">${e.title}</h2>\n                <p class="weekDate">${e.week_dates}</p>\n                </header>\n                \n                <section>\n                <h3>Celebrations & Inspirations</h3>\n                <ul>`,e.celebrations.forEach(function(e){n+=`<li>${e}</li>`}),n+="\n                </ul>\n                </section>\n                \n                <section>\n                <h3>Challenges & Hang-Ups</h3>\n                <ul>",e.challenges.forEach(function(e){n+=`<li>${e}</li>`}),n+=`\n                </ul>\n                </section>\n                \n                <footer>\n                <span>Posted by ${e.author} on ${e.published}</time></span>\n                </footer>\n                \x3c!-- End of Blog Post ${e.week_num} --\x3e\n                `,blogEl.innerHTML+=n})};blogItems>0&&(paginate(blogDatabase.sort((e,n)=>n.id-e.id),"blog-paginator","blog-posts"),document.querySelector("input[name='blogFilter']").addEventListener("keyup",e=>{if(e.target.value.length>=3){const n=e.target.value.toLowerCase(),t=blogDatabase.filter(e=>e.title.toLowerCase().includes(n)||e.celebrations.filter(e=>e.toLowerCase().includes(n)).length||e.challenges.filter(e=>e.toLowerCase().includes(n)).length||e.week_dates.toLowerCase().includes(n));0===t.length?blogEl.innerHTML="\n                        <h3>Search Results Not Found</h3>":(blogEl.innerHTML="",updateDOM(t))}else paginate(blogDatabase,"blog-paginator","blog-posts")}));